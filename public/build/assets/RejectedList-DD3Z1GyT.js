import{r as _,o as w,a as p,b as s,c as i,f as e,t as a,g as v,v as k,h as C,F as j,j as z,i as h,k as u,n as B,e as g}from"./app-DO9d76PO.js";/* empty css                                                                   */import{P}from"./Paginator-BLNNhI4l.js";import{S as l}from"./sweetalert2.all-DmaSrZTC.js";import A from"./ViewForm-B7SlS9_a.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-CW1cnaS1.js";const F={class:""},R={class:"block bg-white rounded min-w-full min-h-screen p-2"},E={hidden:""},T={class:"min-w-screen min-h-full overflow-auto p-2"},S={class:"w-full whitespace-no-wrap"},V=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 px-5 py-3 text-left"},"Applicant"),e("th",{class:"border-b-2 border-gray-200 px-5 py-3 text-left"},"Owner"),e("th",{class:"border-b-2 border-gray-200 px-5 py-3 text-left"},"Location"),e("th",{class:"border-b-2 border-gray-200 px-5 py-3 text-left"},"Status"),e("th",{class:"border-b-2 border-gray-200 px-5 py-3 text-left"},"Actions")])],-1),D={class:"border-b border-gray-200 px-5 py-5 text-sm"},N={class:"border-b border-gray-200 px-5 py-5 text-sm"},Y={class:"border-b border-gray-200 px-5 py-5 text-sm"},$={class:"border-b border-gray-200 px-5 py-5 text-sm"},L={class:"border-b border-gray-200 px-5 py-5 text-sm flex space-x-2"},M={class:"inline-flex space-x-2"},H=["onClick"],I=e("i",{class:"fa fa-thumbs-up"},null,-1),O=["onClick"],U=e("i",{class:"fa fa-thumbs-down"},null,-1),Z={key:1},q=e("td",{colspan:"5",class:"border-b text-center font-bold text-lg border-gray-200 bg-white px-5 py-5"},[e("p",{class:"text-red-500 whitespace-no-wrap"}," No Data Found! ")],-1),G=[q],J={class:"flex w-full overflow-auto"},ae={__name:"RejectedList",setup(K){const c=_([]),n=_({page_num:1,total_pages:0,total:0,search:"",itemsperpage:10});w(()=>{d()});const d=async()=>{try{const o=await p.post(route("zoning.rejected.list"),n.value);c.value=o.data}catch(o){console.error("Error fetching zoning permits:",o)}},b=o=>{n.value.page_num=o??1,d()},m=o=>{switch(o){case 1:return"Pending";case 2:return"Approved";case 3:return"Rejected"}},f=async o=>{try{(await l.fire({title:"Are you sure?",text:"You are about to approve this zoning permit.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, approve it!"})).isConfirmed&&(await p.put(route("zoning.approve",o)),l.fire("Approved!","The zoning permit has been approved.","success"),d())}catch(r){console.error("Error approving zoning permit:",r),l.fire("Error!","Failed to approve the zoning permit.","error")}},x=async o=>{try{(await l.fire({title:"Are you sure?",text:"You are about to reject this zoning permit.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, reject it!"})).isConfirmed&&(await p.put(route("zoning.reject",o)),l.fire("Rejected!","The zoning permit has been rejected.","success"),d())}catch(r){console.error("Error rejecting zoning permit:",r),l.fire("Error!","Failed to reject the zoning permit.","error")}};return(o,r)=>(s(),i("div",F,[e("div",R,[e("p",E,a(o.sessionRole=o.$page.props.auth.user.role)+" Plus 1 Happy kaarawan",1),v(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>n.value.search=t),onInput:r[1]||(r[1]=C(t=>d(),["prevent"])),placeholder:"Search Zoning Permits",class:"mt-1 mb-4 p-2 border rounded w-full text-black"},null,544),[[k,n.value.search]]),e("div",T,[e("table",S,[V,e("tbody",null,[c.value.total_pages?(s(!0),i(j,{key:0},z(c.value.data,t=>(s(),i("tr",{key:t.id,class:"text-gray-700"},[e("td",D,a(t.first_name)+" "+a(t.middle_name)+" "+a(t.last_name),1),e("td",N,a(t.owner_name),1),e("td",Y,a(t.location_of_lot),1),e("td",$,[e("span",{class:B({"text-green-600":t.status_id===2,"text-red-600":t.status_id===3,"text-yellow-600":t.status_id===1})},a(m(t.status_id)),3)]),e("td",L,[e("div",M,[t.status_id===1&&o.sessionRole==1?(s(),i("button",{key:0,onClick:y=>f(t.id),class:"px-3 py-1 bg-green-500 text-white rounded"},[I,g(" Approve ")],8,H)):u("",!0),t.status_id===1&&o.sessionRole==1?(s(),i("button",{key:1,onClick:y=>x(t.id),class:"px-3 py-1 bg-red-500 text-white rounded"},[U,g(" Reject ")],8,O)):u("",!0),(s(),h(A,{key:t.id,data:t},null,8,["data"]))])])]))),128)):(s(),i("tr",Z,G))])])]),e("div",J,[c.value.total>0?(s(),h(P,{key:0,page_number:n.value.page_num,total_rows:c.value.total??0,itemsperpage:n.value.itemsperpage,onPage_num:b},null,8,["page_number","total_rows","itemsperpage"])):u("",!0)])])]))}};export{ae as default};
