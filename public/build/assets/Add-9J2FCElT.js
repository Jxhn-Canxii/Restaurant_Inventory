import{r as b,T as w,b as g,c as v,f as e,e as x,h as u,n as h,d,w as y,g as r,v as m,u as t,q as U,a as S}from"./app-DO9d76PO.js";import{_ as k}from"./Modal-CW1cnaS1.js";import{_ as n}from"./InputError-B4f-ilel.js";import{S as p}from"./sweetalert2.all-DmaSrZTC.js";const V=["disabled"],A=e("i",{class:"fa fa-user"},null,-1),C={class:"grid grid-cols-1 gap-6 p-6"},E={class:"mb-4"},$=e("label",{class:"block text-sm font-medium text-gray-700"},"Full Name",-1),M={class:"mb-4"},N=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1),B={class:"grid grid-cols-2 gap-4"},T=e("label",{class:"block text-sm font-medium text-gray-700"},"Password",-1),P=e("label",{class:"block text-sm font-medium text-gray-700"},"Confirm Password",-1),R={class:"mb-4"},q=e("label",{class:"block text-sm font-medium text-gray-700"},"Role",-1),z=e("option",{value:"",disabled:""},"Select Role",-1),D=["disabled"],F=e("option",{value:"2"},"Admin",-1),O=e("option",{value:"3"},"User",-1),W=e("div",{class:"flex items-center"},[e("button",{type:"submit",class:"bg-blue-500 text-white font-bold py-2 px-4 rounded"}," Submit ")],-1),K={__name:"Add",emits:["user_added"],setup(j,{emit:c}){const f=c,a=b(!1),s=w({name:"",email:"",password:"",password_confirmation:"",role:""}),_=async()=>{var i,o;try{await S.post(route("users.add"),s),p.fire("Success!","User added successfully.","success"),s.reset(),a.value=!1,f("user_added")}catch(l){p.fire("Error!",((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||"Something went wrong.","error")}};return(i,o)=>(g(),v("div",null,[e("button",{onClick:o[0]||(o[0]=u(l=>a.value=!0,["prevent"])),class:h([{"opacity-25":a.value},"px-2 py-2 bg-blue-500 font-bold mb-4 text-md float-end text-white rounded shadow"]),disabled:a.value},[A,x(" Add User ")],10,V),d(k,{show:a.value,maxWidth:"2xl",title:"Add User",onClose:o[6]||(o[6]=l=>a.value=!1)},{default:y(()=>[e("div",C,[e("form",{class:"mt-4",onSubmit:u(_,["prevent"])},[e("div",E,[$,r(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=l=>t(s).name=l),placeholder:"Enter full name",class:"mt-1 p-2 border rounded-md w-full"},null,512),[[m,t(s).name]]),d(n,{message:t(s).errors.name},null,8,["message"])]),e("div",M,[N,r(e("input",{type:"email","onUpdate:modelValue":o[2]||(o[2]=l=>t(s).email=l),placeholder:"Enter email",class:"mt-1 p-2 border rounded-md w-full"},null,512),[[m,t(s).email]]),d(n,{message:t(s).errors.email},null,8,["message"])]),e("div",B,[e("div",null,[T,r(e("input",{type:"password","onUpdate:modelValue":o[3]||(o[3]=l=>t(s).password=l),placeholder:"Enter password",class:"mt-1 p-2 border rounded-md w-full"},null,512),[[m,t(s).password]]),d(n,{message:t(s).errors.password},null,8,["message"])]),e("div",null,[P,r(e("input",{type:"password","onUpdate:modelValue":o[4]||(o[4]=l=>t(s).password_confirmation=l),placeholder:"Confirm password",class:"mt-1 p-2 border rounded-md w-full"},null,512),[[m,t(s).password_confirmation]]),d(n,{message:t(s).errors.password_confirmation},null,8,["message"])])]),e("div",R,[q,r(e("select",{"onUpdate:modelValue":o[5]||(o[5]=l=>t(s).role=l),class:"mt-1 p-2 border rounded-md w-full"},[z,e("option",{disabled:i.$page.props.auth.user.role!=1,value:"1"},"SuperAdmin",8,D),F,O],512),[[U,t(s).role]]),d(n,{message:t(s).errors.role},null,8,["message"])]),W],32)])]),_:1},8,["show"])]))}};export{K as default};
