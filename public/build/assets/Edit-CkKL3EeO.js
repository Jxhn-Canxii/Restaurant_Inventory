import{r as h,T as x,l as g,b as v,c as _,f as e,e as w,h as r,n as k,d as C,w as V,g as n,v as i,u as a,a as M}from"./app-DO9d76PO.js";import{_ as U}from"./Modal-CW1cnaS1.js";import{S as u}from"./sweetalert2.all-DmaSrZTC.js";const E=["disabled"],S=e("i",{class:"fa fa-edit"},null,-1),T={class:"grid grid-cols-1 gap-6 p-6"},q={class:"mb-4"},B=e("label",{class:"block text-sm font-medium text-gray-700"},"Year",-1),N={class:"grid grid-cols-3 gap-4"},P=e("label",{class:"block text-sm font-medium text-gray-700"},"Households",-1),$=e("label",{class:"block text-sm font-medium text-gray-700"},"Male Population",-1),O=e("label",{class:"block text-sm font-medium text-gray-700"},"Female Population",-1),j={class:"mb-4"},z=e("label",{class:"block text-sm font-medium text-gray-700"},"Total Population",-1),F=e("div",{class:"flex items-center mt-4"},[e("button",{type:"submit",class:"bg-blue-500 text-white font-bold py-2 px-4 rounded"}," Update ")],-1),Y={__name:"Edit",props:{data:Object},emits:["transaction_id"],setup(m,{emit:p}){const c=m,b=p,d=h(!1),t=x({id:"",year:"",population:"",households:"",male:"",female:""});g(()=>c.data,l=>{l&&(t.id=l.id,t.year=l.year,t.population=l.population,t.households=l.households,t.male=l.male,t.female=l.female)},{immediate:!0});const f=()=>{d.value=!0},y=async()=>{var l,s;try{await M.put(route("barangay.census.update",{id:t.id}),t),u.fire("Success!","Census record updated successfully.","success"),d.value=!1,b("transaction_id",Math.random())}catch(o){u.fire("Error!",((s=(l=o.response)==null?void 0:l.data)==null?void 0:s.message)||"Something went wrong.","error")}};return(l,s)=>(v(),_("div",null,[e("button",{onClick:s[0]||(s[0]=r(o=>f(),["prevent"])),class:k([{"opacity-25":d.value},"px-2 py-2 bg-yellow-500 font-bold mb-4 text-md float-end text-white rounded shadow"]),disabled:d.value},[S,w(" Edit Census ")],10,E),C(U,{show:d.value,maxWidth:"2xl",title:"Edit Census Record",onClose:s[6]||(s[6]=o=>d.value=!1)},{default:V(()=>[e("div",T,[e("form",{class:"mt-4",onSubmit:r(y,["prevent"])},[e("div",q,[B,n(e("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=o=>a(t).year=o),class:"mt-1 p-2 border rounded-md w-full bg-gray-200",disabled:""},null,512),[[i,a(t).year]])]),e("div",N,[e("div",null,[P,n(e("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=o=>a(t).households=o),class:"mt-1 p-2 border rounded-md w-full",required:""},null,512),[[i,a(t).households]])]),e("div",null,[$,n(e("input",{type:"number","onUpdate:modelValue":s[3]||(s[3]=o=>a(t).male=o),class:"mt-1 p-2 border rounded-md w-full",required:""},null,512),[[i,a(t).male]])]),e("div",null,[O,n(e("input",{type:"number","onUpdate:modelValue":s[4]||(s[4]=o=>a(t).female=o),class:"mt-1 p-2 border rounded-md w-full",required:""},null,512),[[i,a(t).female]])])]),e("div",j,[z,n(e("input",{type:"number","onUpdate:modelValue":s[5]||(s[5]=o=>a(t).population=o),class:"bg-gray-200 mt-1 p-2 border rounded-md w-full",disabled:""},null,512),[[i,a(t).population]])]),F],32)])]),_:1},8,["show"])]))}};export{Y as default};
