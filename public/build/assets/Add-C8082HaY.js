import{r as h,T as g,b as _,c as y,f as e,e as x,h as m,n as v,d as r,w,g as d,v as n,u as t,t as k,a as C}from"./app-DO9d76PO.js";import{_ as V}from"./Modal-CW1cnaS1.js";import{_ as u}from"./InputError-B4f-ilel.js";import{S as p}from"./sweetalert2.all-DmaSrZTC.js";const E=["disabled"],S=e("i",{class:"fa fa-plus"},null,-1),q={class:"grid grid-cols-1 gap-6 p-6"},M={class:"mb-4"},U=e("label",{class:"block text-sm font-medium text-gray-700"},"Year",-1),A={class:"grid grid-cols-3 gap-4"},F=e("label",{class:"block text-sm font-medium text-gray-700"},"Households",-1),T=e("label",{class:"block text-sm font-medium text-gray-700"},"Male Population",-1),$=e("label",{class:"block text-sm font-medium text-gray-700"},"Female Population",-1),B={class:"mb-4"},N=e("label",{class:"block text-sm font-medium text-gray-700"},"Total Population",-1),P={hidden:""},D=e("div",{class:"flex items-center mt-4"},[e("button",{type:"submit",class:"bg-blue-500 text-white font-bold py-2 px-4 rounded"}," Submit ")],-1),Y={__name:"Add",emits:["transaction_id"],setup(z,{emit:c}){const f=c,a=h(!1),s=g({year:"",population:"",households:"",male:"",female:""}),b=async()=>{var i,l;try{await C.post(route("barangay.census.add"),s),p.fire("Success!","Census record added successfully.","success"),s.reset(),a.value=!1,f("transaction_id",Math.random())}catch(o){p.fire("Error!",((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||"Something went wrong.","error")}};return(i,l)=>(_(),y("div",null,[e("button",{onClick:l[0]||(l[0]=m(o=>a.value=!0,["prevent"])),class:v([{"opacity-25":a.value},"px-2 py-2 bg-blue-500 font-bold mb-4 text-md float-end text-white rounded shadow"]),disabled:a.value},[S,x(" Add Census ")],10,E),r(V,{show:a.value,maxWidth:"2xl",title:"Add Census Record",onClose:l[6]||(l[6]=o=>a.value=!1)},{default:w(()=>[e("div",q,[e("form",{class:"mt-4",onSubmit:m(b,["prevent"])},[e("div",M,[U,d(e("input",{type:"number","onUpdate:modelValue":l[1]||(l[1]=o=>t(s).year=o),placeholder:"Enter census year",class:"mt-1 p-2 border rounded-md w-full",required:""},null,512),[[n,t(s).year]]),r(u,{message:t(s).errors.year},null,8,["message"])]),e("div",A,[e("div",null,[F,d(e("input",{type:"number","onUpdate:modelValue":l[2]||(l[2]=o=>t(s).households=o),placeholder:"Enter number of households",class:"mt-1 p-2 border rounded-md w-full",required:""},null,512),[[n,t(s).households]]),r(u,{message:t(s).errors.households},null,8,["message"])]),e("div",null,[T,d(e("input",{type:"number","onUpdate:modelValue":l[3]||(l[3]=o=>t(s).male=o),placeholder:"Enter male population",class:"mt-1 p-2 border rounded-md w-full",required:""},null,512),[[n,t(s).male]]),r(u,{message:t(s).errors.male},null,8,["message"])]),e("div",null,[$,d(e("input",{type:"number","onUpdate:modelValue":l[4]||(l[4]=o=>t(s).female=o),placeholder:"Enter female population",class:"mt-1 p-2 border rounded-md w-full",required:""},null,512),[[n,t(s).female]]),r(u,{message:t(s).errors.female},null,8,["message"])])]),e("div",B,[N,e("small",P,k(t(s).population=parseFloat(t(s).male)+parseFloat(t(s).female)+parseFloat(t(s).households)),1),d(e("input",{type:"number","onUpdate:modelValue":l[5]||(l[5]=o=>t(s).population=o),disabled:"",placeholder:"Enter population",class:"bg-gray-200 mt-1 p-2 border rounded-md w-full",required:""},null,512),[[n,t(s).population]]),r(u,{message:t(s).errors.population},null,8,["message"])]),D],32)])]),_:1},8,["show"])]))}};export{Y as default};
